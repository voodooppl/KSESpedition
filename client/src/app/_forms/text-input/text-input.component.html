<div class="row d-flex justify-content-start mb-3">
    <div class="form-floating" [ngClass]="{'col-11': isPasswordField(), 'col-12': !isPasswordField()}">
        <input [type]="isPasswordField() ? (isPasswordVisible ? 'text' : 'password') : type()" class="form-control"
            [formControl]="control" placeholder="{{label()}}"
            [class.is-invalid]="control.invalid && (control.dirty || control.touched)">
        <label class="ms-2">{{label()}} </label>
        
        <div *ngIf="control.hasError('required')" class="invalid-feedback text-start">
            {{label()}} is required</div>
        <div *ngIf="control.hasError('email')" class="invalid-feedback text-start">
            Please enter a valid email address</div>
        <div *ngIf="control.hasError('minlength')" class="invalid-feedback text-start">
            {{label()}} must be at least {{control.errors?.['minlength'].requiredLength}} characters long</div>
        <div *ngIf="control.hasError('maxlength')" class="invalid-feedback text-start">
            {{label()}} must be at most {{control.errors?.['maxlength'].requiredLength}} characters long</div>
        <div *ngIf="control.hasError('pattern')" class="invalid-feedback text-start">
            {{label()}} must contain only: {{textMessage()}}</div>
        <div *ngIf="control.hasError('isMatching')" class="invalid-feedback text-start">
            Passwords do not match</div>

    </div>

    @if (isPasswordField()) {
    <div class="col-1 pt-3">
        <button type="button" class="btn btn-eye" (click)="togglePasswordVisibility()">
            <i class="fa-regular" [ngClass]="{'fa-eye': !isPasswordVisible, 'fa-eye-slash': isPasswordVisible}"></i>
        </button>
    </div>
    }
</div>